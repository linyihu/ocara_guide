<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>2.1-准备工作</title>
<script type="text/javascript" src="../../syntax/scripts/shCore.js"></script>
<script type="text/javascript" src="../../syntax/scripts/shBrushPhp.js"></script>
<link type="text/css" rel="stylesheet" href="../../style/base.css" />
<link type="text/css" rel="stylesheet" href="../../syntax/styles/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>
</head>

<body><pre><h2>2.1-准备工作</h2>

<strong>1、新建应用</strong>
     上个实例1中，已经说明了使用将框架文件目录ocara放在当前根目录myapp下面然后新建了好了应用目录。本次实例中也使用该应用。当然，如果您想重新建立应用目录也行，只要index.php里面的框架目录配置正确！

<strong>2、控制器</strong>
      按实例1的方法进入开发者中心，添加控制器guestbook。 会自动添加一个index的动作，我们将其作为留言提交、页面。

<strong>3、新建数据库和表</strong>
      添加数据库myapp，并设置用户。然后新建留言表guestbook，包括ID，联系手机和留言内容。要用utf8编码。
  
<strong>4、配置数据库</strong>
      在conf/database.php中配置数据库，如下实例：
<pre class="brush: php;">
/*
 * 数据库配置
 */
$CONF['DATABASE']['default'] = array(
    'type' 	   => 'mysql',  //数据库类型
    'host' 	   => 'localhost',  	 //数据库服务器主机
    'username' => 'guestbook',  	 //数据库用户名
    'password' => '123456',  	 //数据库用户密码
    'name'     => 'myapp',  	 //数据库名称
    'charset'  => 'utf8',   //数据库编码
    'prefix'   => '' 	 //表前缀
);
</pre>

<strong>5、新建Model</strong>
      进入开发者中心，新建Model，名为guestbook。

<strong>6、新建布局Layout</strong>
      框架默认使用layout.php作为layout文件。所以我们在其中添加代码：
<pre class="brush: php;">
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;>
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;>
&lt;head>
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; />
&lt;title>我的留言</title>
&lt;/head>
&lt;body>
<!-- 头部内容 -->
&lt;div class=&quot;header&quot;></div>

<!-- 中间内容-->
&lt;div class=&quot;main&quot;>
&lt;?php 
$this->showTpl(); //调用模板
?>
&lt;/div>

<!-- 底部内容 -->
&lt;div class=&quot;footer&quot;></div>
&lt;/body>
&lt;/html>
</pre>
</pre>
</body>
</html>
