<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>7.5 文件下载</title>
<script type="text/javascript" src="../syntax/scripts/shCore.js"></script>
<script type="text/javascript" src="../syntax/scripts/shBrushPhp.js"></script>
<link type="text/css" rel="stylesheet" href="../style/base.css" />
<link type="text/css" rel="stylesheet" href="../style/function.css" />
<link type="text/css" rel="stylesheet" href="../syntax/styles/shCoreDefault.css"/>
<script type="text/javascript" src="../treeview/base.js"></script>
</head>
<body>
<pre><h1>7.5 文件下载</h1>
  
<p><strong>一、插件介绍</strong></p>
       文件下载插件，对应类Ocara\Service\Download。能够实现XML的新建、保存、导出、显示和生成XML数组等操作。</pre>
<table class="hint">
	<tr class="head">
		<td><h2>特色：</h2>使用方便。</td>
	</tr>
</table>
<p><strong>二、方法函数介绍</strong></p>
<div class="function">
<pre><strong>1、download(filePath[, saveName, encode])</strong>
       下载文件。
       参数说明：
 </pre>
<table>
	<tr class="head">
		<td width="90">名称</td>
		<td width="400">描述</td>
	</tr>
		<tr>
		<td>filePath</td>
		<td>必需。下载文件路径。</td>
	</tr>
		<tr>
		<td>saveName</td>
		<td>可选。保存名称。也就是用户点击弹出下载框以后，默认保存的名称。</td>
	</tr>
		<tr>
		<td>encode</td>
		<td>可选。编码，默认是utf-8。</td>
	</tr>
</table>

 <pre class="brush: php;">
  //假设data目录有一个文件test.txt
$download = new Download();
$download->download(ocPath('data', ''test.txt'), 'test.txt'); //执行该页面，会提示下载或设置了不需提示时直接就下载。
 </pre>

<pre><strong>2、downloadContent(content, saveName[, encode])</strong>
       下载内容。
       参数说明：
 </pre>
	<table>
		<tr class="head">
			<td width="90">名称</td>
			<td width="400">描述</td>
		</tr>
		<tr>
			<td>filePath</td>
			<td>必需。下载文件路径。</td>
		</tr>
		<tr>
			<td>saveName</td>
			<td>可选。保存名称。也就是用户点击弹出下载框以后，默认保存的名称。</td>
		</tr>
		<tr>
			<td>encode</td>
			<td>可选。编码，默认是utf-8。</td>
		</tr>
	</table>

<pre class="brush: php;">
//假设data目录有一个文件test.txt
$download = new Download();
$content = ocRead(ocPath('data', ''test.txt'));
$download->download($content, 'test.txt'); //执行该页面，会提示下载或设置了不需提示时直接就下载。
</pre>

<pre><strong>3、showFile(filePath[, encode])</strong>
       显示文件。
       参数说明：
 </pre>
	<table>
		<tr class="head">
			<td width="90">名称</td>
			<td width="400">描述</td>
		</tr>
		<tr>
			<td>filePath</td>
			<td>必需。下载文件路径。</td>
		</tr>
		<tr>
			<td>encode</td>
			<td>可选。编码，默认是utf-8。</td>
		</tr>
	</table>

<pre class="brush: php;">
//假设data目录有一个文件test.txt
$download = new Download();

//显示该文件
$download->showFile(ocPath('data', ''test.txt'));
 </pre>


<pre><strong>4、showContent(content, fileOrType[, encode])</strong>
       显示内容。
       参数说明：
 </pre>
	<table>
		<tr class="head">
			<td width="90">名称</td>
			<td width="400">描述</td>
		</tr>
		<tr>
			<td>content</td>
			<td>必需。要显示的内容。</td>
		</tr>
		<tr>
			<td>fileOrType</td>
			<td>必需。要显示的文件名或文件类型。</td>
		</tr>
		<tr>
			<td>encode</td>
			<td>可选。编码，默认是utf-8。</td>
		</tr>
	</table>

<pre class="brush: php;">
//假设data目录有一个文件test.txt
$download = new Download();
$content = ocRead(ocPath('data', 'test.txt'));

//显示该文件
$download->showContent($content, 'test.txt');
 </pre>
</div>
</body>
</html>
