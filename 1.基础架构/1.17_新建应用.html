<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>1.17 新建应用</title>
<script type="text/javascript" src="../syntax/scripts/shCore.js"></script>
<script type="text/javascript" src="../syntax/scripts/shBrushPhp.js"></script>
<link type="text/css" rel="stylesheet" href="../style/base.css" />
<link type="text/css" rel="stylesheet" href="../syntax/styles/shCoreDefault.css"/>
<script type="text/javascript" src="../treeview/base.js"></script>
<style type="text/css">
    <!--
    .STYLE1 {
        color: #0000FF;
        font-weight: bold;
    }
    -->
</style>
</head>
<body alink=#ff0000>
<pre><h2>1.17 新建应用</h2>

        Ocara框架支持多应用、多模块的构建。

<strong>1、什么是应用</strong>
        实际上就是指您的PHP项目，一般是一个网站或者移动端后台，由多个模块和控制器组成。例如，我们要开发一个电商网站或进销存系统，那么它就是一个应用。

<strong>2、应用的生成</strong>
        （1）设置网站根目录。
                假设项目目录是newApp，那么newApp/public即为浏览器访问网站的根目录。

        （2）生成入口文件和目录
                下载下来的Ocara框架根目录包括了demo目录，其中存在着应用的实例。最少有一个项目，比如myapp。
                复制它下面的ocara脚本文件和public到项目目录。
                public下面的index.php为网站访问入口文件，代码如下：

<pre class="brush: php;">
/**
 * 应用首页
 */
use Ocara\Core\Ocara;

//程序执行开始时间
define('OC_EXECUTE_START_TIME', microtime(true));

/**
 * 加载框架
 * 请修改和确定以下路径
 */
//require_once dirname(dirname(__DIR__)) . '/ocara/system/library/Core/Ocara.php';
require_once dirname(dirname(__DIR__)) . '/vendor/autoload.php';

/**
 * 运行应用
 */
Ocara::create();
</pre>
        （3）修改控制器类型
                可以在<span class="STYLE1">Ocara::create()</span>中传递控制器类型参数，来设置是何种控制器，比如：Ocara::create('Api')。
                目前支持以下参数值：
                        （a）同步渲染模式控制器：Common；
                        （b）API控制器：Api；
                        （c）Rest控制器：Rest；
                        （d）命令控制器：Task

        （4）修改Ocara框架路径
                只要指定好上面代码中Ocara.php文件路径，或者如果是composer安装的，指定好autoload.php文件。
                请保证当前项目目录有可读写权限。

        （5）执行index.php生成应用
                在浏览器中打开入口文件index.php即可生成应用所有的目录和文件。
                比如当前本地环境配置域名为localhost，则打开http://localhost/index.php。
                如果新建成功，会输出：Application create Success！否则，如果是权限问题，PHP会提示目录没有可写权限。</p>
</pre>
</body></html>
