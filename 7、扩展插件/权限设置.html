<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>权限设置</title>
<script type="text/javascript" src="../syntax/scripts/shCore.js"></script>
<script type="text/javascript" src="../syntax/scripts/shBrushPhp.js"></script>
<link type="text/css" rel="stylesheet" href="../style/base.css" />
<link type="text/css" rel="stylesheet" href="../style/function.css" />
<link type="text/css" rel="stylesheet" href="../syntax/styles/shCoreDefault.css"/>
<script type="text/javascript" src="../treeview/base.js"></script>
</head>
<body>
<pre><h1>Auth</h1>
  
<p><strong>一、插件介绍</strong></p>
       权限设置插件，是Ocara框架的权限控制的一部分，可以用来指定任意的模块、控制和动作权限，而且权限检测框架会自动完成。</pre>

<p><strong>二、应用实例</strong></p>
<pre class="brush: php;">
$auth = new Auth();
$auth->setRole(array('g1', 'g2', 'g3'));
$auth->setAuth(array('g1', 'g2', 'g3'), array('menu', 'index'));
print_r($auth->getAuth());
</pre>
<p>输出结果：Array ( [g1] => Array ( [g2] => Array ( [g3] => Array ( [menu] => Array ( [index] => 1 ) ) ) ) )
		</p><p><strong>三、方法函数介绍</strong></p>
<div class="function">
<pre>
<strong>1、setData(data)</strong>
  手动设置权限数据。
  参数说明：
 </pre>
<table>
	<tr class="head">
		<td width="90">名称</td>
		<td width="400">描述</td>
	</tr>
		<tr>
		<td>data</td>
		<td>必需。权限数据数组。</td>
	</tr>
</table>

<pre>
<strong>2、getData(data)</strong>
  获取权限数据。
 </pre>
<pre>
<strong>3、setRole(roleList)</strong>
  设置角色。
  参数说明：
 </pre>
<table>
	<tr class="head">
		<td width="90">名称</td>
		<td width="400">描述</td>
	</tr>
		<tr>
		<td>roleList</td>
		<td>必需。角色列表数组。</td>
	</tr>
</table>

<pre>

<strong>4、getRole(roleList)</strong>
  获取角色权限数据。
  参数说明：
 </pre>
	<table>
		<tr class="head">
			<td width="90">名称</td>
			<td width="400">描述</td>
		</tr>
		<tr>
			<td>roleList</td>
			<td>必需。同上</td>
		</tr>
	</table>
<pre>

<strong>5、delRole(roleList)</strong>
  删除角色。  
  参数说明：
 </pre>
<table>
	<tr class="head">
		<td width="90">名称</td>
		<td width="400">描述</td>
	</tr>
		<tr>
		<td>roleList</td>
		<td>必需。同上</td>
	</tr>
</table>

<pre>
<strong>6、setAuth(roleList, routeList[, allowed])</strong>
  添加权限。  
  参数说明：
</pre>
<table>
	<tr class="head">
		<td width="90">名称</td>
		<td width="400">描述</td>
	</tr>
		<tr>
		<td>roleList</td>
		<td>必需。同上</td>
	</tr>
		<tr>
		<td>routeList</td>
		<td>必需。权限路由列表数组。</td>
	</tr>
	<tr>
		<td>allowed</td>
		<td>可选。是否允许有权限。</td>
	</tr>
</table>

<pre>
<strong>7、getAuth([roleList, routeList])</strong>
  获取权限数据。
  参数说明：
 </pre>
	<table>
		<tr class="head">
			<td width="90">名称</td>
			<td width="400">描述</td>
		</tr>
		<tr>
			<td>roleList</td>
			<td>可选。同上</td>
		</tr>
		<tr>
			<td>routeList</td>
			<td>可选。同上</td>
		</tr>
</table>

<pre>
<strong>8、delAuth(roleList, routeList)</strong>
  删除权限。  
  参数说明：
</pre>
<table>
	<tr class="head">
		<td width="90">名称</td>
		<td width="400">描述</td>
	</tr>
		<tr>
		<td>roleList</td>
		<td>必需。同上</td>
	</tr>
		<tr>
		<td>authList</td>
		<td>必需。同上</td>
	</tr>
</table>

<pre>
<strong>8、check(roleList, authList)</strong>
  检测权限。  
  参数说明：
 </pre>
<table>
	<tr class="head">
		<td width="90">名称</td>
		<td width="400">描述</td>
	</tr>
		<tr>
		<td>roleList</td>
		<td>必需。同上</td>
	</tr>
		<tr>
		<td>authList</td>
		<td>必需。同上</td>
	</tr>
</table>
</div>
</body>
</html>
